<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تحميل رواية الإيلفار</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary-color: #00ffd5;
            --bg-color: #0f172a;
            --card-bg: rgba(30, 41, 59, 0.7);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Cairo', sans-serif;
            -webkit-tap-highlight-color: transparent; /* يمنع الوميض عند اللمس في الموبايل */
        }

        body {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: var(--bg-color);
            background-image: 
                radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), 
                radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), 
                radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%);
            padding: 20px;
            color: #fff;
        }

        /* حاوية مرنة تناسب جميع الشاشات */
        .wrapper {
            width: 100%;
            max-width: 420px;
            animation: fadeIn 0.8s ease-out;
        }

        .main-card {
            background: var(--card-bg);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 30px 20px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
        }

        h1 {
            font-size: 1.8rem; /* حجم خط مرن */
            margin: 15px 0 5px;
            background: linear-gradient(to left, #fff, var(--primary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .author { color: #94a3b8; font-size: 0.9rem; margin-bottom: 20px; }

        /* منطقة المعلومات - Grid مرن */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 30px;
        }

        .info-box {
            background: rgba(255,255,255,0.05);
            padding: 12px 5px;
            border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.05);
        }

        .info-box i { color: var(--primary-color); display: block; margin-bottom: 5px; }
        .info-box span { font-size: 0.75rem; color: #cbd5e1; display: block; }
        .info-box b { font-size: 0.9rem; }

        /* دائرة الانتظار الذكية */
        .loader-container {
            margin: 20px auto;
            position: relative;
            width: 80px;
            height: 80px;
        }

        .circle-svg { transform: rotate(-90deg); }
        .circle-bg { fill: none; stroke: rgba(255,255,255,0.1); stroke-width: 6; }
        .circle-progress {
            fill: none;
            stroke: var(--primary-color);
            stroke-width: 6;
            stroke-linecap: round;
            stroke-dasharray: 226;
            stroke-dashoffset: 226;
            transition: stroke-dashoffset 0.1s linear;
        }

        #timer-text {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            font-weight: bold;
            font-size: 1.2rem;
        }

        /* زر التحميل - مناسب للمس بالإصبع */
        .btn-download {
            display: none;
            width: 100%;
            padding: 16px;
            border-radius: 16px;
            background: var(--primary-color);
            color: #000;
            text-decoration: none;
            font-weight: 800;
            font-size: 1.1rem;
            transition: 0.3s;
            box-shadow: 0 10px 20px rgba(0, 255, 213, 0.2);
            border: none;
            cursor: pointer;
        }

        .btn-download:active { transform: scale(0.95); }

        .footer-note {
            margin-top: 20px;
            font-size: 0.8rem;
            color: #64748b;
        }

        /* تحسينات للشاشات الصغيرة جداً */
        @media (max-width: 350px) {
            h1 { font-size: 1.5rem; }
            .info-grid { grid-template-columns: 1fr; } /* تتحول لعمود واحد في الشاشات الصغيرة جداً */
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

<div class="wrapper">
    <div class="main-card">
        <i class="fas fa-shield-halved" style="color: var(--primary-color); font-size: 1.5rem;"></i>
        
        <h1>رواية الإيلفار</h1>
        <p class="author">بواسطة: قسم الروايات العالمية</p>

        <div class="info-grid">
            <div class="info-box"><i class="far fa-file-pdf"></i><span>النوع</span><b>PDF</b></div>
            <div class="info-box"><i class="fas fa-expand"></i><span>الحجم</span><b>4.2MB</b></div>
            <div class="info-box"><i class="fas fa-check-circle"></i><span>الحالة</span><b>آمن</b></div>
        </div>

        <div id="loader-section">
            <div class="loader-container">
                <svg class="circle-svg" width="80" height="80">
                    <circle class="circle-bg" cx="40" cy="40" r="36"></circle>
                    <circle id="bar" class="circle-progress" cx="40" cy="40" r="36"></circle>
                </svg>
                <div id="timer-text">10</div>
            </div>
            <p style="font-size: 0.9rem; color: #94a3b8;">جاري تحضير الرابط المباشر...</p>
        </div>

        <a href="33.pdf" download id="download-btn" class="btn-download">
            <i class="fas fa-download" style="margin-left: 8px;"></i> تحميل الآن
        </a>

        <p class="footer-note">الرابط صالح للاستخدام مرة واحدة من هذا الجهاز</p>
    </div>
</div>

<script>
    let timeLeft = 10;
    const bar = document.getElementById('bar');
    const timerText = document.getElementById('timer-text');
    const btn = document.getElementById('download-btn');
    const loader = document.getElementById('loader-section');
    
    const total = 226; // محيط الدائرة (2 * pi * r)

    const countdown = setInterval(() => {
        timeLeft--;
        timerText.innerText = timeLeft;
        
        // تحريك الخط المحيط بالدائرة
        const offset = total - ((10 - timeLeft) / 10) * total;
        bar.style.strokeDashoffset = offset;

        if (timeLeft <= 0) {
            clearInterval(countdown);
            loader.style.display = 'none';
            btn.style.display = 'block';
            btn.style.animation = 'fadeIn 0.5s ease-out';
        }
    }, 1000);
</script>

</body>
</html>
